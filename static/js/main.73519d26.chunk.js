(this.webpackJsonpreact_hw_3=this.webpackJsonpreact_hw_3||[]).push([[0],{22:function(e,t,a){e.exports=a(68)},27:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),c=a.n(o),s=(a(27),a(28),a(5)),l=a(3),i=a.n(l),u=a(4),h=a(16),m=a(17),p=a(21),d=a(20),f=a(18),g=a.n(f),v={BASIC_URL:"https://pixabay.com/api/",otherOptions:"&image_type=photo&orientation=horizontal&per_page=12",key:"1992005-0c423af9a07f13d941d831108",page:1,getPhoto:function(e){var t=this;return Object(u.a)(i.a.mark((function a(){var n,r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n="".concat(t.BASIC_URL,"?q=").concat(e,"&key=").concat(t.key).concat(t.otherOptions,"&page=").concat(t.page),a.next=4,g.a.get(n);case 4:return r=a.sent,t.pageIncrement(),a.abrupt("return",r.data.hits);case 9:a.prev=9,a.t0=a.catch(0),alert(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))()},pageIncrement:function(){this.page+=1},pageResset:function(){this.page=1}},y=function(e){var t=e.children;return r.a.createElement("header",{className:"Searchbar"},t)},b=function(e){var t=e.type,a=e.placeholder,n=e.value,o=e.onChange,c=e.customClass,s=e.autoFocus;return r.a.createElement("input",{className:c,type:t,autoFocus:s,placeholder:a,value:n,onChange:o})},k=function(e){var t=e.type,a=e.name,n=e.customClass,o=e.children,c=e.onClick;return r.a.createElement("button",{type:t,name:a,className:n,onClick:c},o)},C=function(e){var t=e.value,a=e.onChange,n=e.onSubmit;return r.a.createElement("form",{className:"SearchForm",onSubmit:n},r.a.createElement(k,{type:"submit",customClass:"SearchForm-button"},r.a.createElement("span",{className:"SearchForm-button-label"},"Search")),r.a.createElement(b,{customClass:"SearchForm-input",type:"text",autoFocus:!0,placeholder:"Search images and photos",value:t,onChange:a}))},E=function(e){var t=e.photo,a=e.onClick;return r.a.createElement("li",{className:"ImageGalleryItem",key:t.id,onClick:a},r.a.createElement("img",{src:t.webformatURL,alt:t.name,id:t.id,className:"ImageGalleryItem-image"}))},S=function(e){var t=e.onClick,a=e.photos;return r.a.createElement("ul",{className:"ImageGallery"},a.map((function(e){return r.a.createElement(E,{photo:e,onClick:t})})))},w=a(19),N=a.n(w),O=function(e){var t=e.bigUrl,a=e.onClick,n=e.onKeyPress;return r.a.createElement("div",{className:"Overlay",onClick:a,onKeyPress:n},r.a.createElement("div",{className:"Modal"},r.a.createElement("img",{src:t,alt:""})))},F=function(){return r.a.createElement("span",{className:"noResult"},"Sorry, we haven`t any photo on your request :(")},L=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={query:"",photos:[],fullSize:!1,isLoading:!1,bigUrl:""},e.handleNewQueryFetch=Object(u.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),t.prev=1,t.next=4,v.getPhoto(e.state.query);case 4:a=t.sent,e.setState({photos:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:return t.prev=11,e.setState({isLoading:!1}),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])}))),e.handleFetch=Object(u.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),t.prev=1,t.next=4,v.getPhoto(e.state.query);case 4:a=t.sent,e.setState((function(e){var t=e.photos;return{photos:[].concat(Object(s.a)(t),Object(s.a)(a))}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:return t.prev=11,e.setState({isLoading:!1}),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])}))),e.handleChangeQuery=function(t){e.setState({query:t.target.value})},e.onSubmitForm=function(t){t.preventDefault(),v.pageResset(),e.handleNewQueryFetch()},e.onClickBtn=Object(u.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleFetch();case 2:window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 3:case"end":return t.stop()}}),t)}))),e.onClickPhoto=function(t){var a=e.state.photos.find((function(e){return e.id===+t.target.id}));e.setState({fullSize:!0,bigUrl:a.largeImageURL})},e.onClickOverlay=function(t){"IMG"!==t.target.nodeName&&e.setState({fullSize:!1})},e.onPressEsc=function(t){window.addEventListener("keydown",(function t(a){"Escape"===a.code&&(e.setState({fullSize:!1}),window.removeEventListener("keydown",t))}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.handleFetch(this.state.query)}},{key:"render",value:function(){var e=this.state,t=e.query,a=e.photos,n=e.fullSize,o=e.bigUrl,c=e.isLoading;return r.a.createElement("div",null,r.a.createElement(y,null,r.a.createElement(C,{onSubmit:this.onSubmitForm,onChange:this.handleChangeQuery,value:t})),r.a.createElement(S,{onClick:this.onClickPhoto,photos:a}),c&&r.a.createElement("div",{className:"Loader"},r.a.createElement(N.a,{type:"ThreeDots",color:"#3f51b5",height:80,width:80})),a.length>0&&!c?r.a.createElement(k,{type:"button",name:"loadMore",onClick:this.onClickBtn,customClass:"Button"},"Load more"):null,n&&r.a.createElement(O,{onClick:this.onClickOverlay,bigUrl:o,onKeyPress:this.onPressEsc()}),a.length||c?null:r.a.createElement(F,null))}}]),a}(n.Component);c.a.render(r.a.createElement(L,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.73519d26.chunk.js.map