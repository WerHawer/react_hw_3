{"version":3,"sources":["utils/pixabayApi.js","components/Header.js","components/UI/Input.js","components/UI/Button.js","components/SearchForm.js","components/ImageGaleryElement.js","components/ImageGalery.js","components/BigPhotoModal.js","NoResults.js","components/App.js","index.js"],"names":["pixabayApi","BASIC_URL","otherOptions","key","page","getPhoto","query","finalURL","axios","get","request","pageIncrement","data","hits","alert","this","pageResset","Header","children","className","Input","type","placeholder","value","onChange","customClass","autoFocus","Button","name","onClick","SearchForm","onSubmit","ImageGaleryElement","photo","id","src","webformatURL","alt","ImageGalery","photos","map","BigPhotoModal","bigUrl","onKeyPress","NoResults","App","state","fullSize","isLoading","handleNewQueryFetch","a","setState","photosApi","console","log","handleFetch","handleChangeQuery","e","target","onSubmitForm","preventDefault","onClickBtn","window","scrollTo","top","document","documentElement","scrollHeight","behavior","onClickPhoto","targetPhoto","find","largeImageURL","onClickOverlay","nodeName","onPressEsc","addEventListener","hideModal","code","removeEventListener","color","height","width","length","Component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.73519d26.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst pixabayApi = {\r\n  BASIC_URL: \"https://pixabay.com/api/\",\r\n\r\n  otherOptions: \"&image_type=photo&orientation=horizontal&per_page=12\",\r\n\r\n  key: \"1992005-0c423af9a07f13d941d831108\",\r\n\r\n  page: 1,\r\n\r\n  async getPhoto(query) {\r\n    try {\r\n      const finalURL = `${this.BASIC_URL}?q=${query}&key=${this.key}${this.otherOptions}&page=${this.page}`;\r\n      const request = await axios.get(finalURL);\r\n\r\n      this.pageIncrement();\r\n      return request.data.hits;\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  },\r\n\r\n  pageIncrement() {\r\n    this.page += 1;\r\n  },\r\n\r\n  pageResset() {\r\n    this.page = 1;\r\n  }\r\n};\r\n\r\nexport default pixabayApi;\r\n","import React from \"react\";\r\n\r\nconst Header = ({ children }) => (\r\n  <header className=\"Searchbar\">{children}</header>\r\n);\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nconst Input = ({\r\n  type,\r\n  placeholder,\r\n  value,\r\n  onChange,\r\n  customClass,\r\n  autoFocus,\r\n}) => (\r\n  <input\r\n    className={customClass}\r\n    type={type}\r\n    autoFocus={autoFocus}\r\n    placeholder={placeholder}\r\n    value={value}\r\n    onChange={onChange}\r\n  />\r\n);\r\n\r\nexport default Input;\r\n","import React from \"react\";\r\n\r\nconst Button = ({ type, name, customClass, children, onClick }) => (\r\n  <button type={type} name={name} className={customClass} onClick={onClick}>\r\n    {children}\r\n  </button>\r\n);\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport Input from \"./UI/Input\";\r\nimport Button from \"./UI/Button\";\r\n\r\nconst SearchForm = ({ value, onChange, onSubmit }) => (\r\n  <form className=\"SearchForm\" onSubmit={onSubmit}>\r\n    <Button type=\"submit\" customClass=\"SearchForm-button\">\r\n      <span className=\"SearchForm-button-label\">Search</span>\r\n    </Button>\r\n\r\n    <Input\r\n      customClass=\"SearchForm-input\"\r\n      type=\"text\"\r\n      autoFocus\r\n      placeholder=\"Search images and photos\"\r\n      value={value}\r\n      onChange={onChange}\r\n    />\r\n  </form>\r\n);\r\n\r\nexport default SearchForm;\r\n","import React from \"react\";\r\n\r\nconst ImageGaleryElement = ({ photo, onClick }) => (\r\n  <li className=\"ImageGalleryItem\" key={photo.id} onClick={onClick}>\r\n    <img\r\n      src={photo.webformatURL}\r\n      alt={photo.name}\r\n      id={photo.id}\r\n      className=\"ImageGalleryItem-image\"\r\n    />\r\n  </li>\r\n);\r\n\r\nexport default ImageGaleryElement;\r\n","import React from \"react\";\r\nimport ImageGaleryElement from \"./ImageGaleryElement\";\r\n\r\nconst ImageGalery = ({ onClick, photos }) => (\r\n  <ul className=\"ImageGallery\">\r\n    {photos.map((photo) => (\r\n      <ImageGaleryElement photo={photo} onClick={onClick} />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nexport default ImageGalery;\r\n","import React from \"react\";\r\n\r\nconst BigPhotoModal = ({ bigUrl, onClick, onKeyPress }) => (\r\n  <div className=\"Overlay\" onClick={onClick} onKeyPress={onKeyPress}>\r\n    <div className=\"Modal\">\r\n      <img src={bigUrl} alt=\"\" />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default BigPhotoModal;\r\n","import React from \"react\";\r\n\r\nconst NoResults = () => (\r\n  <span className=\"noResult\">\r\n    Sorry, we haven`t any photo on your request :(\r\n  </span>\r\n);\r\n\r\nexport default NoResults;\r\n","import React, { Component } from \"react\";\nimport pixabayApi from \"../utils/pixabayApi\";\nimport Header from \"./Header\";\nimport SearchForm from \"./SearchForm\";\nimport ImageGalery from \"./ImageGalery\";\nimport Loader from \"react-loader-spinner\";\nimport BigPhotoModal from \"./BigPhotoModal\";\nimport NoResults from \"../NoResults\";\nimport Button from \"./UI/Button\";\n\nclass App extends Component {\n  state = {\n    query: \"\",\n    photos: [],\n    fullSize: false,\n    isLoading: false,\n    bigUrl: \"\",\n  };\n\n  componentDidMount() {\n    this.handleFetch(this.state.query);\n  }\n\n  handleNewQueryFetch = async () => {\n    this.setState({ isLoading: true });\n    try {\n      const photosApi = await pixabayApi.getPhoto(this.state.query);\n      this.setState({ photos: photosApi });\n    } catch (error) {\n      console.log(error);\n    } finally {\n      this.setState({ isLoading: false });\n    }\n  };\n\n  handleFetch = async () => {\n    this.setState({ isLoading: true });\n    try {\n      const photosApi = await pixabayApi.getPhoto(this.state.query);\n      this.setState(({ photos }) => ({ photos: [...photos, ...photosApi] }));\n    } catch (error) {\n      console.log(error);\n    } finally {\n      this.setState({ isLoading: false });\n    }\n  };\n\n  handleChangeQuery = (e) => {\n    this.setState({ query: e.target.value });\n  };\n\n  onSubmitForm = (e) => {\n    e.preventDefault();\n    pixabayApi.pageResset();\n    this.handleNewQueryFetch();\n  };\n\n  onClickBtn = async () => {\n    await this.handleFetch();\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  onClickPhoto = (e) => {\n    const { photos } = this.state;\n\n    const targetPhoto = photos.find(({ id }) => id === +e.target.id);\n    this.setState({ fullSize: true, bigUrl: targetPhoto.largeImageURL });\n  };\n\n  onClickOverlay = (e) => {\n    if (e.target.nodeName === \"IMG\") return;\n\n    this.setState({ fullSize: false });\n  };\n\n  onPressEsc = (e) => {\n    const hideModal = (e) => {\n      if (e.code === \"Escape\") {\n        this.setState({ fullSize: false });\n        window.removeEventListener(\"keydown\", hideModal);\n      }\n    };\n    window.addEventListener(\"keydown\", hideModal);\n  };\n\n  render() {\n    const { query, photos, fullSize, bigUrl, isLoading } = this.state;\n\n    return (\n      <div>\n        <Header>\n          <SearchForm\n            onSubmit={this.onSubmitForm}\n            onChange={this.handleChangeQuery}\n            value={query}\n          />\n        </Header>\n\n        <ImageGalery onClick={this.onClickPhoto} photos={photos} />\n\n        {isLoading && (\n          <div className=\"Loader\">\n            <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} />\n          </div>\n        )}\n\n        {photos.length > 0 && !isLoading ? (\n          <Button\n            type=\"button\"\n            name=\"loadMore\"\n            onClick={this.onClickBtn}\n            customClass=\"Button\"\n          >\n            Load more\n          </Button>\n        ) : null}\n\n        {fullSize && (\n          <BigPhotoModal\n            onClick={this.onClickOverlay}\n            bigUrl={bigUrl}\n            onKeyPress={this.onPressEsc()}\n          />\n        )}\n\n        {!photos.length && !isLoading ? <NoResults /> : null}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"../src/styles.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}